{"version":3,"file":"bundle.js","mappings":"CAyDAA,iBACkBC,SAASC,eAAe,SAChCC,iBAAiB,SAASH,WA3BpCA,iBACoBC,SAASC,eAAe,WAChCE,MAAMC,QAAU,OACxB,MAAMC,EAAQL,SAASC,eAAe,UAChCK,EAAcD,EAAME,IAC1BF,EAAME,IAAM,GACZF,EAAMG,UAAUC,IAAI,UACpB,MAAMC,EAAUV,SAASC,eAAe,YAClCU,QAvCVZ,eAAyBa,GACrB,IAAIC,EAAc,KAClB,GAAIb,SAASc,QAA6B,IAAnBd,SAASc,OAE5B,IADA,IAAIC,EAAUf,SAASc,OAAOE,MAAM,KAC3BC,EAAI,EAAGA,EAAIF,EAAQG,OAAQD,IAAK,CACrC,IAAIH,EAASC,EAAQE,GAAGE,OACxB,GAAIL,EAAOM,UAAU,EAAGR,EAAKM,OAAS,IAAON,EAAO,IAAM,CACtDC,EAAcQ,mBAAmBP,EAAOM,UAAUR,EAAKM,OAAS,IAChE,KACJ,CACJ,CAEJ,OAAOL,CACX,CA0B4BS,CAAU,aAC5BC,QAAgBC,MAAM,aAAc,CACVC,OAAQ,OACRC,KAAM,cACNC,QAAS,CACL,cAAehB,EACf,OAAU,mBACV,eAAgB,oBAEpBiB,KAAMC,KAAKC,UAAU,CACjBpB,QAASA,EAAQqB,UAG/CC,QAAaT,EAAQU,aArC/BlC,eAA0BiC,EAAM1B,GAC5B,MAAMD,EAAQL,SAASC,eAAe,UACtC,GAAwB,MAArB+B,EAAKE,YAAoB,CACxB,MAAMC,EAAUnC,SAASC,eAAe,WACxCkC,EAAQhC,MAAMC,QAAU,QACxBC,EAAMG,UAAU4B,OAAO,UACvB/B,EAAME,IAAMD,EACZ6B,EAAQE,UAAYL,EAAKM,MAC7B,MAEIjC,EAAMG,UAAU4B,OAAO,UACvB/B,EAAME,IAAMyB,EAAKO,GAGzB,CAwBUC,CAAWR,EAAM1B,EAC3B,CAKQmC,EAAQ,GAEhB,CAEAC","sources":["webpack://gerador_de_imagem_django/./frontend/src/index.js"],"sourcesContent":["\nasync function getCookie(name) {\n    var cookieValue = null;\n    if (document.cookie && document.cookie != '') {\n        var cookies = document.cookie.split(';');\n        for (var i = 0; i < cookies.length; i++) {\n            var cookie = cookies[i].trim();\n            if (cookie.substring(0, name.length + 1) == (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n\nasync function handleData(data, placeholder){\n    const image = document.getElementById('imagem');\n    if(data.status_code === 406){\n        const message = document.getElementById('message');\n        message.style.display = 'block';\n        image.classList.remove('loader');\n        image.src = placeholder\n        message.innerHTML = data.detail;\n    }\n    else{\n        image.classList.remove('loader');\n        image.src = data.url;\n    }\n    \n}\n\nasync function submit(){\n    const message = document.getElementById('message');\n    message.style.display = 'none';\n    const image = document.getElementById('imagem');\n    const placeholder = image.src\n    image.src = \"\";\n    image.classList.add('loader');\n    const content = document.getElementById('textarea')\n    const csrftoken = await getCookie('csrftoken');\n    const respose = await fetch('api/submit', {\n                                    method: 'POST',\n                                    mode: \"same-origin\",\n                                    headers: {\n                                        \"X-CSRFToken\": csrftoken,\n                                        \"Accept\": \"application/json\",\n                                        \"Content-Type\": \"application/json\",\n                                    },\n                                    body: JSON.stringify({\n                                        content: content.value\n                                    })\n                                })\n    const data = await respose.json();\n    await handleData(data, placeholder);\n}\n\nasync function addListener(){\n    const botao = document.getElementById('botao')\n    botao.addEventListener('click', async () => {\n        submit();\n    })\n}\n\naddListener();"],"names":["async","document","getElementById","addEventListener","style","display","image","placeholder","src","classList","add","content","csrftoken","name","cookieValue","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","respose","fetch","method","mode","headers","body","JSON","stringify","value","data","json","status_code","message","remove","innerHTML","detail","url","handleData","submit","addListener"],"sourceRoot":""}